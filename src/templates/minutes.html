<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Authentication Guard -->
    <script src="../javascript/auth.js"></script>

    <title>Robert's Rules Meeting Minutes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
        rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/minutes_style.css">
</head>
<body class="min-h-screen">
    <div class="taskbar">
        <div class="taskbar-left">
          <a href="home.html" class="taskbar-icon" title="Home">
            <i class="bi-house"></i>
          </a>
        </div>
        <div class="taskbar-right">
          <a href="profileEditor.html" class="taskbar-icon" title="Profile">
            <i class="bi-person"></i>
          </a>
        </div>
    </div>
    <header>
        <div class="max-w-7xl mx-auto flex justify-center py-4">
            <div class="bg-dark-header text-white p-4 rounded-lg shadow-lg">
                <h1 class="text-xl font-bold">Meeting Minutes (Q4 Session)</h1>
            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto p-4 grid grid-cols-1 lg:grid-cols-3 gap-6">

        <div class="lg:col-span-1 bg-white rounded-xl shadow-lg h-[80vh] overflow-y-auto">
            <div class="p-4 bg-gray-50 border-b rounded-t-xl sticky top-0 z-10">
                <h2 class="text-lg font-bold text-gray-700">Chronological Motion Index</h2>
            </div>
            <div id="motion-list-container" class="p-3">
                <p class="text-center text-gray-500 p-8">Loading motions...</p>
            </div>
        </div>

        <div class="lg:col-span-2 bg-white rounded-xl shadow-lg h-[80vh] overflow-y-auto" id="motion-details">
            <p class="text-gray-500 p-8">Select a motion from the index to view its full details, voting record, and the Chair's summary.</p>
        </div>

    </div>

    <div class="max-w-7xl mx-auto p-4 flex justify-center mt-4 mb-8">
        <button 
            id="export-button" 
            onclick="exportMinutes()" 
            class="px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg shadow-xl transition duration-200 transform hover:scale-105">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L10 11.586l2.293-2.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
                <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v7a1 1 0 11-2 0V3a1 1 0 011-1z" clip-rule="evenodd" />
            </svg>
            Export/Download Minutes
        </button>
    </div>
    
    <script src="../javascript/minutes_script.js"></script>
</body>
</html>